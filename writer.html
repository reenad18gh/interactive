<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Admin Settings</title>
<style>
  :root{ --primary:#ff6f00; --font:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }
  body{margin:0;background:#0f1115;color:#e7e7e7;font-family:var(--font)}
  .wrap{max-width:880px;margin:24px auto;padding:0 16px}
  label{display:block;margin:12px 0 6px}
  input,select{width:100%;padding:10px;border-radius:8px;border:1px solid #333;background:#181a20;color:#e7e7e7}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .btn{margin-top:16px;padding:10px 16px;background:var(--primary);color:#111;border:none;border-radius:8px;font-weight:700;cursor:pointer}
  .note{opacity:.8;margin-top:8px}
</style>
</head>
<body>
<div class="wrap">
  <h1>Admin Settings</h1>

  <label>Primary Color</label>
  <input type="color" id="primary" value="#ff6f00">

  <div class="row">
    <div>
      <label>Font Family</label>
      <select id="font">
        <option value="system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif">System</option>
        <option value="Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif">Inter</option>
        <option value="Arial,Helvetica,sans-serif">Arial</option>
        <option value="Georgia,serif">Georgia</option>
        <option value="'Courier New',monospace">Courier New</option>
      </select>
    </div>
    <div>
      <label>Mode</label>
      <select id="mode">
        <option value="dark">Dark</option>
        <option value="light">Light</option>
      </select>
    </div>
  </div>

  <label><input type="checkbox" id="videoEnabled"> Enable Background Video</label>
  <label>Background Video URL or file name (mp4)</label>
  <input id="videoUrl" placeholder="banner.mp4 or https://.../video.mp4">

  <button class="btn" id="saveBtn">Save</button>
  <button class="btn" id="resetBtn" style="background:#999;color:#111;margin-left:8px">Reset Defaults</button>
  <div class="note">بعد الحفظ ارجع لصفحات User و Display ورح تتطبق الإعدادات تلقائيًا.</div>
</div>

<script src="settings.js"></script>
<script>
  // تحميل القيم الحالية في النموذج
  const s = SiteSettings.getSettings();
  primary.value = s.primary;
  font.value = s.font;
  mode.value = s.mode;
  videoEnabled.checked = !!s.videoEnabled;
  videoUrl.value = s.videoUrl || '';

  saveBtn.onclick = () => {
    const newS = {
      primary: primary.value,
      font: font.value,
      mode: mode.value,
      videoEnabled: videoEnabled.checked,
      videoUrl: videoUrl.value.trim()
    };
    SiteSettings.saveSettings(newS);
    alert('Saved. Open user/display pages to see changes.');
  };

  resetBtn.onclick = () => {
    SiteSettings.saveSettings(SiteSettings.DEFAULTS);
    alert('Reset done.');
    location.reload();
  };
</script>
</body>
</html>
